package utils;

import java.io.File;

import org.dom4j.Document;
import org.dom4j.DocumentException;
import org.dom4j.Element;
import org.dom4j.io.SAXReader;

public class MySession
{
	private Object vo;
	private String className;
	private String tableName;
	private String idName;
	private String idType ;
	
	public MySession()
	{ 
	}
	
	public void save(Object vo) throws DocumentException
	{
		this.vo = vo;
		String fileName = this.vo.getClass().getSimpleName() + ".hbm.xml";
		this.parseHBMFile(fileName);
		
	}
	
	public void parseHBMFile(String fileName) throws DocumentException
	{
		File voHbmXML = new File("C:" + File.separator + "D" + File.separator + "jxit" + File.separator + "temp" + File.separator + fileName);
		SAXReader sax = new SAXReader();
		Document document = sax.read(voHbmXML);
		Element hmRoot = document.getRootElement();
		Element classElement = hmRoot.element("class");
		
		this.className = classElement.attributeValue("name");
		this.tableName = classElement.attributeValue("table");
		Element idElement = classElement.element("id");
		this.idName = idElement.attributeValue("name");
		this.idType = idElement.attributeValue("type");
		
		
		
		
		System.out.println("");
	}
}
