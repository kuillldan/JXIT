package dao.impl;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

import vo.Dept;

public abstract class AbstractDAOImpl
{
	private Connection conn;
	private PreparedStatement ps;
	
	public AbstractDAOImpl(Connection conn)
	{
		super();
		this.conn = conn;
	}
	
	public Object query()
	{
		Dept dept = null;
		String sql = " SELECT did,dname,current FROM dept WHERE did=? ";
		this.ps = this.conn.prepareStatement(sql);
		this.ps.setInt(1, id);
		ResultSet rs = this.ps.executeQuery();
		if(rs.next())
		{
			dept = new Dept();
			dept.setDid(rs.getInt("did"));
			dept.setDname(rs.getString("dname"));
			dept.setCurrent(rs.getInt("current"));
		}
		
		return dept;
	}
}
